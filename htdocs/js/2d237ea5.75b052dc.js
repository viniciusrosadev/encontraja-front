(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d237ea5"],{fcc5:function(a,i,e){"use strict";e.r(i);var s=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("q-page",{staticClass:"flex flex-center"},[e("div",{staticClass:"q-pa-md"},[a.pesquisaAtiva?a._e():e("q-form",{on:{submit:a.pesquisar}},[e("q-input",{attrs:{filled:"",label:"Procurar","lazy-rules":"",rules:[function(a){return a&&a.length>0||"Escreva algo para pesquisar."}]},model:{value:a.termoPesquisado,callback:function(i){a.termoPesquisado=i},expression:"termoPesquisado"}}),e("q-expansion-item",{attrs:{icon:"class",label:"+ Descrição",align:"center"},model:{value:a.descricaoExpandido,callback:function(i){a.descricaoExpandido=i},expression:"descricaoExpandido"}},[e("br"),e("q-input",{attrs:{filled:"",label:"Procurar descrição"},model:{value:a.descricaoPesquisada,callback:function(i){a.descricaoPesquisada=i},expression:"descricaoPesquisada"}}),e("br")],1),e("q-expansion-item",{attrs:{icon:"date_range",label:"+ Data",align:"center"},model:{value:a.dataExpandida,callback:function(i){a.dataExpandida=i},expression:"dataExpandida"}},[e("br"),e("q-input",{attrs:{filled:"",label:"Data de início","stack-label":"",mask:"##/##/####"},scopedSlots:a._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"qDateProxy",attrs:{"tranwsition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return a.$refs.qDateProxy.hide()}},model:{value:a.dataInicialPesquisada,callback:function(i){a.dataInicialPesquisada=i},expression:"dataInicialPesquisada"}})],1)],1)]},proxy:!0}],null,!1,1771990357),model:{value:a.dataInicialPesquisada,callback:function(i){a.dataInicialPesquisada=i},expression:"dataInicialPesquisada"}}),e("br"),e("q-input",{attrs:{filled:"",label:"Data de fim","stack-label":"",mask:"##/##/####"},scopedSlots:a._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return a.$refs.qDateProxy.hide()}},model:{value:a.dataFinalPesquisada,callback:function(i){a.dataFinalPesquisada=i},expression:"dataFinalPesquisada"}})],1)],1)]},proxy:!0}],null,!1,1302312327),model:{value:a.dataFinalPesquisada,callback:function(i){a.dataFinalPesquisada=i},expression:"dataFinalPesquisada"}}),e("br")],1),e("q-expansion-item",{attrs:{icon:"perm_identity",label:"+ Cidade",align:"center"},model:{value:a.cidadePesquisadaExpandida,callback:function(i){a.cidadePesquisadaExpandida=i},expression:"cidadePesquisadaExpandida"}},[e("br"),e("q-card",[a.cidadePesquisada?a._e():e("q-item-section",[e("q-btn",{attrs:{label:"Adicionar cidade"},on:{click:function(i){a.adicionarCidadeDialog=!0}}})],1),a._l(this.cidadesPesquisa,(function(i){return e("q-item",{key:i.id},[0!==a.cidadesPesquisa.length?e("q-item-section",{attrs:{avatar:""}},[e("q-btn",{attrs:{icon:"close"},on:{click:a.eliminarCidade}})],1):a._e(),e("q-item-section",{attrs:{align:"left"}},[e("q-item-label",[a._v("\n                  Estado: "+a._s(i.nomeEstado)+"\n                ")]),e("q-item-label",[a._v("\n                  Região: "+a._s(i.nomeMicroRegiao)+"\n                ")]),e("q-item-label",[a._v("\n                  Cidade: "+a._s(i.nomeCidade)+"\n                ")])],1)],1)}))],2),e("br")],1),e("q-dialog",{attrs:{persistent:"",maximized:a.dialogoTelaCheia,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:a.adicionarCidadeDialog,callback:function(i){a.adicionarCidadeDialog=i},expression:"adicionarCidadeDialog"}},[e("q-card",{staticClass:"bg-primary text-white"},[e("q-bar",[e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[a._v("Fechar")])],1)],1),e("q-card-section",[e("div",{staticClass:"text-h4"},[a._v("Adicionar cidade")])]),e("q-card-section",[e("q-select",{staticClass:"bg-white",attrs:{filled:"",options:a.opcoesEstado,label:"Selecione o estado",clearable:""},scopedSlots:a._u([{key:"option",fn:function(i){return[e("q-item",a._g(a._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",{domProps:{innerHTML:a._s(i.opt.label)}})],1)],1)]}}],null,!1,4041510316),model:{value:a.estadoEscolhido,callback:function(i){a.estadoEscolhido=i},expression:"estadoEscolhido"}}),e("br"),0!==a.estadoEscolhido.length?e("q-select",{staticClass:"bg-white",attrs:{filled:"",options:a.opcoesMicroRegiao,label:"Selecione a região estadual",clearable:""},scopedSlots:a._u([{key:"option",fn:function(i){return[e("q-item",a._g(a._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",{domProps:{innerHTML:a._s(i.opt.label)}})],1)],1)]}}],null,!1,4041510316),model:{value:a.microRegiaoEscolhido,callback:function(i){a.microRegiaoEscolhido=i},expression:"microRegiaoEscolhido"}}):a._e(),e("br"),0!==a.microRegiaoEscolhido.length?e("q-select",{staticClass:"bg-white",attrs:{filled:"",options:a.opcoesCidade,label:"Selecione a cidade",clearable:""},scopedSlots:a._u([{key:"option",fn:function(i){return[e("q-item",a._g(a._b({},"q-item",i.itemProps,!1),i.itemEvents),[e("q-item-section",[e("q-item-label",{domProps:{innerHTML:a._s(i.opt.label)}})],1)],1)]}}],null,!1,4041510316),model:{value:a.cidadeEscolhido,callback:function(i){a.cidadeEscolhido=i},expression:"cidadeEscolhido"}}):a._e(),e("br"),0!==a.estadoEscolhido.length&&0!==a.microRegiaoEscolhido.length&&0!==a.cidadeEscolhido.length?e("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Gravar cidade"},on:{click:function(i){a.adicionarCidadeDialog=!1}}}):a._e()],1)],1)],1),e("br"),e("div",{attrs:{align:"center"}},[e("q-btn",{attrs:{round:"",color:"primary",icon:"search",type:"submit"}})],1)],1),a.pesquisaAtiva?e("q-list",{staticStyle:{"max-width":"350px"}},[e("q-item-label",{attrs:{header:""}},[a._v("Anúncios encontrados")]),a._l(this.pesquisaRetorno,(function(i){return e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i.idAnuncio,attrs:{clickable:""}},[e("q-item",[e("q-item-section",{staticClass:"q-ml-none",attrs:{top:"",thumbnail:""},on:{click:function(e){return a.entrarAnuncio(i.idAnuncio)}}},[e("img",{attrs:{src:i.base64}})]),e("q-item-section",{on:{click:function(e){return a.entrarAnuncio(i.idAnuncio)}}},[e("q-item-label",[a._v(a._s(i.tituloAnuncio))]),e("q-item-label",{attrs:{caption:""}},[a._v(a._s(i.criadoEm))])],1),e("q-item-section",{attrs:{side:""}},[e("q-icon",{attrs:{name:"send",color:"primary"}})],1)],1)],1)}))],2):a._e()],1)])},o=[],t=e("bc3a"),c=e.n(t),n={data:function(){return{token:null,cidadePesquisada:null,descricaoPesquisada:null,dataInicialPesquisada:null,dataFinalPesquisada:null,termoPesquisado:null,pesquisaRetorno:[],cidadesPesquisa:[],opcoesEstado:[],opcoesMicroRegiao:[],opcoesCidade:[],estadoEscolhido:[],microRegiaoEscolhido:[],cidadeEscolhido:[],descricaoExpandido:!1,dataExpandida:!1,cidadePesquisadaExpandida:!1,adicionarCidadeDialog:!1,dialogoTelaCheia:!0,pesquisaAtiva:!1}},created:function(){this.token=localStorage.getItem("token")},watch:{adicionarCidadeDialog:function(a){switch(a){case!0:this.carregarEstados();break;case!1:0!==this.estadoEscolhido.length&&0!==this.microRegiaoEscolhido.length&&0!==this.cidadeEscolhido.length&&(this.cidadesPesquisa.push({idEstado:this.estadoEscolhido.value,nomeEstado:this.estadoEscolhido.label,idMicroRegiao:this.microRegiaoEscolhido.value,nomeMicroRegiao:this.microRegiaoEscolhido.label,idCidade:this.cidadeEscolhido.value,nomeCidade:this.cidadeEscolhido.label}),this.cidadePesquisada=this.cidadesPesquisa[0].idCidade,this.opcoesEstado=[],this.estadoEscolhido=[],this.opcoesMicroRegiao=[],this.microRegiaoEscolhido=[],this.opcoesCidade=[],this.cidadeEscolhido=[]);break;default:break}},estadoEscolhido:function(a){this.microRegiaoEscolhido=[],this.cidadeEscolhido=[],this.opcoesMicroRegiao=[],this.opcoesCidade=[],this.carregarMicroRegioes(a.value)},microRegiaoEscolhido:function(a){this.cidadeEscolhido=[],this.opcoesCidade=[],this.carregarCidades(this.estadoEscolhido.value,a.value)}},methods:{eliminarCidade:function(a){this.cidadesPesquisa.splice(a,1),this.cidadePesquisada=null},carregarEstados:function(){var a=this;this.opcoesEstado=[],this.opcoesMicroRegiao=[],this.opcoesCidade=[],c.a.get("http://localhost:8799/api/localizaEstados/").then((function(i){var e=i.data;e.forEach((function(i){a.opcoesEstado.push({value:i.id,label:i.UF})}))})).catch((function(a){console.log(a)}))},carregarMicroRegioes:function(a){var i=this;c.a.get("http://localhost:8799/api/localizaMicroRegioes/".concat(a)).then((function(a){var e=a.data;e.forEach((function(a){i.opcoesMicroRegiao.push({value:a.id,label:a.nome})}))})).catch((function(a){console.log(a)}))},carregarCidades:function(a,i){var e=this;c.a.get("http://localhost:8799/api/localizaCidades/".concat(a,",").concat(i)).then((function(a){var i=a.data;i.forEach((function(a){e.opcoesCidade.push({value:a.id,label:a.nome})}))})).catch((function(a){console.log(a)}))},pesquisar:function(){var a=this,i=null;i={token:this.token,termoPesquisado:this.termoPesquisado},this.descricaoPesquisada&&(i.descricaoPesquisada=this.descricaoPesquisada),this.cidadePesquisada&&(i.cidadePesquisada=this.cidadePesquisada),this.dataInicialPesquisada&&(i.dataInicialPesquisada=this.dataInicialPesquisada),this.dataFinalPesquisada&&(i.dataFinalPesquisada=this.dataFinalPesquisada),c.a.post("http://localhost:8799/api/pesquisaAnuncio",i).then((function(i){a.pesquisaAtiva=!0,a.pesquisaRetorno=i.data}))},entrarAnuncio:function(a){this.$router.push("/anuncio/".concat(a))}}},d=n,l=e("2877"),r=Object(l["a"])(d,s,o,!1,null,null,null);i["default"]=r.exports}}]);